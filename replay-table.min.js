!function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=41)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){console.log(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={alwaysTrue:function(e){return!0},hasOutcome:function(e){return function(t){return t.some(function(t){return t.results.some(function(t){return t.outcome===e})})}},hasMatches:function(e){return e.some(function(e){return e.results.some(function(e){return e.match})})}};t.default={total:{check:r.alwaysTrue,calculate:function(e){return e.change||0}},rounds:{check:r.alwaysTrue,calculate:function(e){return null===e.change?0:1}},wins:{check:r.hasOutcome("win"),calculate:function(e){return"win"===e.outcome?1:0}},losses:{check:r.hasOutcome("loss"),calculate:function(e){return"loss"===e.outcome?1:0}},draws:{check:r.hasOutcome("draw"),calculate:function(e){return"draw"===e.outcome?1:0}},goalsFor:{check:r.hasMatches,calculate:function(e){return e.match?e.match.score:0}},goalsAgainst:{check:r.hasMatches,calculate:function(e){return e.match?e.match.opponentScore:0}}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)}).forEach(function(e){return(0,a.default)('Sorry, there is no "'+e+'" parameter available. Ignoring it and moving on.')});var n=Object.keys(e).reduce(function(t,n){return Object.assign(t,r({},n,e[n].default))},{});return Object.keys(t).filter(function(t){return e.hasOwnProperty(t)}).forEach(function(r){e[r].validate(t[r])?n[r]=t[r]:(0,a.default)("Sorry, we cannot accept "+t[r]+" as "+r+".                 Moving on with the default value, which is "+n[r]+".")}),n};var u=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(35);Object.defineProperty(t,"csv",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e||e instanceof String}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!0};return!!Array.isArray(e)&&e.every(function(e){return t(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){console.log(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),a=r(u),o=n(5),i=r(o);t.default={orderBy:{default:["total"],parse:function(e){return e.split(",")},validate:function(e){return(0,i.default)(e,function(e){return a.default.hasOwnProperty(e)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r=e.filter(function(e){return n[e].total!==t[e].total})[0];return r?n[r].total-t[r].total:0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),a=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={extractor:{default:"csv",parse:function(e){return e},validate:function(e){return u.hasOwnProperty(e)}},source:{default:void 0,parse:function(e){return e},validate:o.default}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].concat(r(new Set(e.reduce(function(e,t){return[].concat(r(e),r(t.results.map(function(e){return e.item})))},[]))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){try{return JSON.parse(e.replace(/'/g,'"'))}catch(e){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0};if(!e||"object"!==(void 0===e?"undefined":r(e)))return!1;var u=Object.keys(e).every(function(e){return t(e)}),a=Object.values(e).every(function(e){return n(e)});return u&&a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(15),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),o=n(13),i=r(o),s=n(5),l=r(s),c=n(4),f=r(c),d=n(12),p=r(d);t.default={transformer:{default:"listOfMatches",parse:function(e){return e},validate:function(e){return a.hasOwnProperty(e)}},changeToOutcome:{default:{3:"win",1:"draw",0:"loss"},parse:function(e){return(0,p.default)(e)},validate:function(e){return(0,i.default)(e,function(e){return!Number.isNaN(e)},function(e){return["win","draw","loss"].includes(e)})}},filterItems:{default:[],parse:function(e){return e.split(",")},validate:function(e){return(0,l.default)(e,f.default)}},collapseToRounds:{default:!1,parse:function(e){return"true"===e},validate:function(e){return"boolean"==typeof e}},insertStartRound:{default:"0",parse:function(e){return e},validate:f.default},locationFirst:{default:"home",parse:function(e){return e},validate:function(e){return["home","away"].includes(e)}},extraColumnsNumber:{default:0,parse:function(e){return Number.parseInt(e,10)},validate:function(e){return!Number.isNaN(e)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(49);Object.defineProperty(t,"pointsTable",{enumerable:!0,get:function(){return r(u).default}});var a=n(48);Object.defineProperty(t,"listOfMatches",{enumerable:!0,get:function(){return r(a).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(17),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),o=n(12),i=r(o),s=n(5),l=r(s),c=n(13),f=r(c),d=n(4),p=r(d);t.default={visualizer:{default:"basic",parse:function(e){return e},validate:function(e){return a.hasOwnProperty(e)}},columns:{default:["position","item","total","match","opponent"],parse:function(e){return e.split(",")},validate:function(e){return(0,l.default)(e,p.default)}},id:{default:"",parse:function(e){return e},validate:p.default},startFromRound:{default:"last",parse:function(e){return"last"===e?"last":Number.parseInt(e,10)},validate:function(e){return"last"===e||!Number.isNaN(e)}},labels:{default:{season:"Season",round:"Round",position:"#",item:"Team",total:"Points",changes:"Changes",change:"Change"},parse:function(e){return(0,i.default)(e)},validate:function(e){return(0,f.default)(e,function(e){return["season","round","position","item","total","changes","change"].includes(e)},function(e){return(0,p.default)(e)})}},roundsTotalNumber:{default:void 0,parse:function(e){return Number.parseInt(e,10)||void 0},validate:function(e){return!e||!Number.isNaN(e)}},positionWhenTied:{default:"strict",parse:function(e){return e},validate:function(e){return["strict","highest","range","average"].includes(e)}},speed:{default:3,parse:function(e){return Number.parseFloat(e)},validate:function(e){return!Number.isNaN(e)&&e>0&&e<=10}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(55);Object.defineProperty(t,"basic",{enumerable:!0,get:function(){return r(u).default}});var a=n(56);Object.defineProperty(t,"classic",{enumerable:!0,get:function(){return r(a).default}});var o=n(57);Object.defineProperty(t,"sparklines",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)(l.default,t),r=a.enrich(e,n),u=a.sort(r,n),o=a.position(u,n);return a.addMeta(o,n)};var u=n(26),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),o=n(2),i=r(o),s=n(7),l=r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return e?d.hasOwnProperty(e)?d[e]:((0,y.default)('No "'+e+'" preset for now, sorry about that. Moving on with the default settings.'),null):null}function i(){return Object.keys(c).reduce(function(e,t){return Object.assign(e,a({},t,{}))},{})}function s(e){var t=Object.keys(c).filter(function(t){return c[t].hasOwnProperty(e)});return t.length>0?t[0]:null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o(e.preset)||i();return Object.keys(e).filter(function(e){return!b.includes(e)}).map(function(e){return(0,h.default)(e)}).forEach(function(n){var r=s(n);r?t[r][n]=c[r][n].parse(e[n]):(0,y.default)('Sorry, there is no "'+n+'" parameter available. Ignoring it and moving on.')}),t};var l=n(30),c=u(l),f=n(34),d=u(f),p=n(11),h=r(p),v=n(0),y=r(v),b=["preset"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=l.default.source.validate(e.source)&&e.source;if(!t)return void(0,f.default)("Please, check the data source. We couldn't get anything out from "+e.source);var n=e.extractor||(0,i.default)(t);return l.default.extractor.validate(n)?a[n](t):((0,p.default)("We couldn't determine the extractor so we'll try to use the default one, which is "+l.default.extractor.default),a[l.default.extractor.default](t))};var u=n(3),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),o=n(36),i=r(o),s=n(9),l=r(s),c=n(6),f=r(c),d=n(0),p=r(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,c.default)(d.default,t),r=o[n.transformer](e,n),u=n.filterItems.length>0?s.filterItems(r,n.filterItems):r,a=n.collapseToRounds?s.collapseToRounds(u):u;return n.insertStartRound?s.insertStartRound(a,n.insertStartRound):a};var a=n(15),o=u(a),i=n(46),s=u(i),l=n(2),c=r(l),f=n(14),d=r(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)(l.default,t);new a[n.visualizer](e,n)};var u=n(17),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),o=n(2),i=r(o),s=n(16),l=r(s)},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.map(function(e,t){return{meta:{name:e.name,index:t,isLast:!1,items:e.results.filter(function(e){return null!==e.change}).length,hasOnlyOutcomes:e.results.every(function(e){return e.outcome||null===e.change}),biggestChange:Math.max.apply(Math,r(e.results.map(function(e){return Math.abs(e.change||0)}))),sumOfChanges:e.results.reduce(function(e,t){return e+(t.change||0)},0)},results:e.results}}),u=n.filter(function(e){return e.results.some(function(e){return null!==e.change})}).reduce(function(e,t){return Math.max(t.meta.index,e)},0);return n[u].meta.isLast=!0,{meta:{lastRound:u},results:n}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=Object.keys(o.default).filter(function(t){return o.default[t].check(e)}),r=(0,s.default)(e),a=n.reduce(function(e,t){return Object.assign(e,u({},t,0))},{}),i=r.reduce(function(e,t){return Object.assign(e,u({},t,Object.assign({},a)))},{});return e.map(function(e){var t=e.results.map(function(e){var t=Object.assign({},e),r=i[e.item];return n.forEach(function(e){var n=o.default[e].calculate(t);t[e]={change:n,total:r[e]+n},r[e]+=n}),t});return{name:e.name,results:t}})};var a=n(1),o=r(a),i=n(10),s=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(25);Object.defineProperty(t,"enrich",{enumerable:!0,get:function(){return r(u).default}});var a=n(28);Object.defineProperty(t,"sort",{enumerable:!0,get:function(){return r(a).default}});var o=n(27);Object.defineProperty(t,"position",{enumerable:!0,get:function(){return r(o).default}});var i=n(24);Object.defineProperty(t,"addMeta",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,u.default)(t.orderBy);return e.map(function(e){var t=e.results.map(function(t,r){var u=Object.assign({},t),a=e.results.filter(function(e){return n(e,t)<0}),o=e.results.filter(function(e){return e.item!==t.item&&0===n(e,t)});return u.position={strict:r+1,highest:a.length+1,lowest:a.length+o.length+1},u});return{name:e.name,results:t}})};var r=n(8),u=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.slice(0,1),r=(0,i.default)(t.orderBy);return e.slice(1).forEach(function(e,t){n.push({name:e.name,results:(0,a.default)(e.results,n[t].results,r)})}),n};var u=n(29),a=r(u),o=n(8),i=r(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e.map(function(e){return{obj:e,idx:t.map(function(e){return e.item}).indexOf(e.item)}}).sort(function(e,t){return n(e.obj,t.obj)?n(e.obj,t.obj):e.idx-t.idx}).map(function(e){return e.obj})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(9);Object.defineProperty(t,"extract",{enumerable:!0,get:function(){return r(u).default}});var a=n(14);Object.defineProperty(t,"transform",{enumerable:!0,get:function(){return r(a).default}});var o=n(7);Object.defineProperty(t,"calculate",{enumerable:!0,get:function(){return r(o).default}});var i=n(16);Object.defineProperty(t,"visualize",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={extract:{},transform:{transformer:"listOfMatches",changeToOutcome:{1:"win",0:"loss"}},calculate:{orderBy:["winningPercentage"]},visualize:{visualizer:"classic-american",columns:["position","item","rounds","wins","losses","match","opponent"]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={extract:{},transform:{transformer:"pointsTable",changeToOutcome:{1:"win",0:"loss"}},calculate:{orderBy:["total","wins"]},visualize:{labels:{season:"Турнир",round:"Вопрос",changes:"Вопрос",position:"Место",item:"Команда",total:"Взято",change:"Вопрос"},positionWhenTied:"range"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={extract:{},transform:{transformer:"pointsTable",changeToOutcome:{25:"win"},insertStartRound:"Start →"},calculate:{orderBy:["total","wins"]},visualize:{columns:["position","item","change","total"],labels:{round:"Race",item:"Driver"}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(31);Object.defineProperty(t,"american",{enumerable:!0,get:function(){return r(u).default}});var a=n(32);Object.defineProperty(t,"chgk",{enumerable:!0,get:function(){return r(a).default}});var o=n(33);Object.defineProperty(t,"f1",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){d3.text(e,function(e){if(!e)return void n("Sorry, we can't reach your csv file");var r=d3.csvParseRows(e);t(r)})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.default)(e);return u.hasOwnProperty(t)?t:null};var r=n(3),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),a=n(38),o=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e).reduce(function(t,n){var u=Number.parseInt(n,10),a=isNaN(u)?n:u,o=e[n];return Object.assign(t,r({},o,a))},{})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.slice((Math.max(0,e.lastIndexOf("."))||1/0)+1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e>0?"+"+e:e<0?e.toString():""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e[0]).map(function(t){return e.map(function(e){return e[t]})})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(23);var u=n(19),a=r(u),o=n(20),i=r(o),s=n(21),l=r(s),c=n(18),f=r(c),d=n(22),p=r(d),h=n(6),v=r(h);Array.from(document.getElementsByClassName("replayTable")).forEach(function(e){var t=(0,a.default)(e.dataset);t.visualize.id=e.id,Promise.resolve((0,i.default)(t.extract)).then(function(e){var n=(0,l.default)(e,t.transform),r=(0,f.default)(n,t.calculate);(0,p.default)(r,t.visualize)}).catch(function(e){return(0,v.default)(e)})})},function(e,t,n){"use strict";function r(e){switch(e){case"home":return"away";case"away":return"home";case"neutral":return"neutral";default:return null}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{team:e.match.opponent,match:{location:r(e.match.location),score:e.match.opponentScore,opponent:e.team,opponentScore:e.match.score}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.match.score>e.match.opponentScore?"win":e.match.score<e.match.opponentScore?"loss":e.match.score===e.match.opponentScore?"draw":void 0}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,a.default)(e),n=t.reduce(function(e,t){return Object.assign(e,r({},t,0))},{}),u=[];return e.forEach(function(e){e.results.filter(function(e){return null!==e.change}).forEach(function(e){var t=++n[e.item];u.length<t&&u.push({name:t.toString(),results:[]}),u[t-1].results.push(e)})}),u};var u=n(10),a=function(e){return e&&e.__esModule?e:{default:e}}(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.map(function(e){return{name:e.name,results:e.results.filter(function(e){return t.includes(e.item)})}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(44);Object.defineProperty(t,"collapseToRounds",{enumerable:!0,get:function(){return r(u).default}});var a=n(45);Object.defineProperty(t,"filterItems",{enumerable:!0,get:function(){return r(a).default}});var o=n(47);Object.defineProperty(t,"insertStartRound",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return[{name:t,results:e[0].results.map(function(e){var t=Object.assign({},e);return["change","match","outcome"].filter(function(t){return e.hasOwnProperty(t)}).forEach(function(e){return t[e]=null}),t.extras&&Object.keys(t.extras).filter(function(e){return"item"!==e}).forEach(function(e){return t.extras[e]=null}),t})}].concat(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){return Array.isArray(e)?e:Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.filter(function(e){return e&&e.length>=5}),r=a(n),o=(r[0],r.slice(1)),s=[].concat(u(new Set(o.map(function(e){return e[0]})))),c=[].concat(u(new Set([].concat(u(o.map(function(e){return e[1]})),u(o.map(function(e){return e[3]})))))),d=(0,i.default)(t.changeToOutcome);return s.map(function(e){var n=[];return o.filter(function(t){return t[0]===e}).forEach(function(e){var r={team:e[1],match:{location:t.locationFirst,score:Number.parseInt(e[2],10),opponent:e[3],opponentScore:Number.parseInt(e[4],10)}};[r,(0,l.default)(r)].forEach(function(e){var t=(0,f.default)(e);n.push({item:e.team,change:d[t],outcome:t,match:e.match,extras:null})})}),c.filter(function(e){return!n.map(function(e){return e.item}).includes(e)}).forEach(function(e){n.push({item:e,change:null,match:null,extras:null})}),{name:e,results:n}})};var o=n(37),i=r(o),s=n(42),l=r(s),c=n(43),f=r(c)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(t.extraColumnsNumber||0)+1,u=e[0].slice(1,n),o=e[0].slice(n),i=(0,a.default)(e.slice(1).filter(function(e){return e[0]})),s=i[0],l=i.slice(1,n).map(function(e){return new Map(s.map(function(t,n){return[t,e[n]]}))});return i.slice(n).map(function(e,n){var a=[];return e.forEach(function(e,n){var o=s[n],i=e?Number.parseInt(e,10)||0:null;a.push({item:o,change:i,outcome:t.changeToOutcome[i]||null,extras:{item:l.reduce(function(e,t,n){return Object.assign(e,r({},u[n],t.get(o)))},{})}})}),{name:o[n],results:a}})};var u=n(40),a=function(e){return e&&e.__esModule?e:{default:e}}(u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n,u){r(this,e),this.button=t.append("div").attr("class","next").classed("disabled",n.isLast).on("click",u),this.onRoundChange=this.onRoundChange.bind(this)}return u(e,[{key:"onRoundChange",value:function(e){this.button.classed("disabled",e.isLast)}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n,u,a){var o=this;r(this,e),this.isLast=n.isLast,this.button=t.append("div").on("click",function(){o.isPlaying?a():u()}),this.updateClass(),this.onPlay=this.onPlay.bind(this),this.onPause=this.onPause.bind(this),this.onRoundChange=this.onRoundChange.bind(this)}return u(e,[{key:"onPlay",value:function(){this.isPlaying=!0,this.updateClass()}},{key:"onPause",value:function(){this.isPlaying=!1,this.updateClass()}},{key:"onRoundChange",value:function(e){this.isLast=e.isLast,this.updateClass()}},{key:"updateClass",value:function(){var e=this.isPlaying?"pause":this.isLast?"replay":"play";this.button.classed("play","play"===e).classed("pause","pause"===e).classed("replay","replay"===e)}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n,u){r(this,e),this.button=t.append("div").attr("class","previous").classed("disabled",0===n.index).on("click",u),this.onRoundChange=this.onRoundChange.bind(this)}return u(e,[{key:"onRoundChange",value:function(e){this.button.classed("disabled",0===e.index)}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=[];return t.columns.forEach(function(r){var u=e.results[0].results.values().next().value;a.default.hasOwnProperty(r)?n.push({label:"",getText:a.default[r].getText(t),getClasses:a.default[r].getClasses(t)}):u.hasOwnProperty(r)&&i.default.hasOwnProperty(r)?n.push({label:r[0].toUpperCase(),getText:function(e,t){return t[r].total},getClasses:c("calculation")}):u.hasOwnProperty(r)&&!i.default.hasOwnProperty(r)?n.push({label:r,getText:function(e,t){return t[r]},getClasses:c("extra")}):u.extras.item.hasOwnProperty(r)?n.push({label:r,getText:function(e,t){return t.extras.item[r]},getClasses:c("extra")}):(0,l.default)("Sorry, we couldn't "+r+" column anywhere. Ignoring it and moving on")}),n};var u=n(54),a=r(u),o=n(1),i=r(o),s=n(0),l=r(s),c=function(e){return function(t,n){return[e]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),u=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(e){return function(t){return function(t,n){return[e]}}};t.default={position:{label:"",getText:function(e){return function(t,n){switch(e.positionWhenTied){case"strict":return n.position.strict.toString();case"highest":return n.position.highest.toString();case"range":return n.position.highest+"–"+n.position.lowest;case"average":return((n.position.highest+n.position.lowest)/2).toString();default:return n.position.strict.toString()}}},getClasses:a("position")},item:{label:"",getText:function(e){return function(e,t){return e}},getClasses:a("item")},change:{label:"",getText:function(e){return function(e,t){return(0,u.default)(t.total.change)}},getClasses:a("change")},total:{label:"",getText:function(e){return function(e,t){return t.total.total.toString()}},getClasses:a("total")},match:{label:"",getText:function(e){return function(e,t){return t.match?t.match.score+" - "+t.match.opponentScore:""}},getClasses:function(e){return function(e,t){return["match",t.outcome]}}},opponent:{label:"",getText:function(e){return function(e,t){return t.match?t.match.opponent:""}},getClasses:function(e){return function(e,t){return["opponent",t.outcome]}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(51),s=r(i),l=n(52),c=r(l),f=n(50),d=r(f),p=n(11),h=r(p),v=["roundChange","play","pause"],y={highlight:800,highlightToMove:200,move:1e3,moveToFade:0,fade:700},b=function(){function e(t,n){var r,o=this;a(this,e),this.data=t,this.params=n,this.durations=Object.keys(y).reduce(function(e,t){return Object.assign(e,u({},t,y[t]/n.speed))},{}),this.durations.total=Object.keys(y).reduce(function(e,t){return e+o.durations[t]},0),this.currentRound="last"===this.params.startFromRound?this.data.meta.lastRound:this.params.startFromRound,this.dispatch=(r=d3).dispatch.apply(r,v);var i=n.id?"#"+n.id:".replayTable";this.renderControls(i),this.renderTable(i)}return o(e,[{key:"renderControls",value:function(e){var t=this,n=d3.select(e).append("div").attr("class","controls"),r=this.data.results[this.currentRound].meta;this.controls={play:new s.default(n,r,this.play.bind(this),this.pause.bind(this)),previous:new c.default(n,r,this.previous.bind(this)),next:new d.default(n,r,this.next.bind(this))},Object.keys(this.controls).forEach(function(e){var n=t.controls[e];v.forEach(function(r){var u=(0,h.default)("on-"+r);n[u]&&t.dispatch.on(r+"."+e,n[u].bind(n))})})}},{key:"renderTable",value:function(e){var t=this,n=["position","item","total"],r=d3.select(e).append("table");this.thead=r.append("thead"),this.tbody=r.append("tbody"),this.top=this.tbody.node().getBoundingClientRect().top,(this.thead.append("tr").selectAll("th").data(n).enter().append("th").text(function(e){return e}),this.tbody.selectAll("tr").data(this.data.results[this.currentRound].results,function(e){return e.item}).enter().append("tr").style("top",function(e,n){return t.top+23+23*n+"px"})).selectAll("td").data(function(e){return[e.position.strict,e.item,e.total.total]}).enter().append("td").text(function(e){return e})}},{key:"to",value:function(e){var t=this;this.dispatch.call("roundChange",this,this.data.results[e].meta);var n=this.tbody.selectAll("tr").data(this.data.results[e].results,function(e){return e.item});n.transition().duration(this.durations.highlight).style("background-color",function(e){switch(e.outcome){case"win":return"#EDFFDF";case"draw":return"#F3F3F3";case"loss":return"#FFECEC";default:return"transparent"}}),n.transition().delay(this.durations.highlight+this.durations.highlightToMove).duration(this.durations.move).style("top",function(e,n){return t.top+23+23*n+"px"}),n.transition().delay(this.durations.highlight+this.durations.highlightToMove+this.durations.move).duration(this.durations.fade).style("background-color","transparent"),n.selectAll("td").data(function(e){return[e.position.strict,e.item,e.total.total]}).transition().delay(this.durations.highlight+this.durations.highlightToMove+this.durations.move).duration(this.durations.fade).text(function(e){return e}),this.currentRound=e}},{key:"first",value:function(){this.to(0)}},{key:"last",value:function(){this.to(this.data.meta.lastRound)}},{key:"previous",value:function(){this.currentRound>0&&this.to(this.currentRound-1)}},{key:"next",value:function(){this.currentRound<this.data.meta.lastRound&&this.to(this.currentRound+1)}},{key:"play",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.meta.lastRound;this.dispatch.call("play"),this.currentRound===this.data.meta.lastRound?this.first():this.next(),this.timer=setInterval(function(){e.currentRound===t?e.dispatch.call("pause"):e.next()},this.durations.total)}},{key:"pause",value:function(){this.dispatch.call("pause"),clearInterval(this.timer)}},{key:"drillDownToItem",value:function(e){var t=this.data.results.map(function(t){return{meta:t.meta,results:t.results.filter(function(t){return t.item===e})[0]}});console.log(t)}}]),e}();t.default=b},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,u=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){u=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(u)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){var n="last"===t.startFromRound?e.meta.lastRound:t.startFromRound,a=[].concat(r(e.results[n].results.entries())),i=(0,o.default)(e,t),s=t.id?"#"+t.id:".replayTable",l=d3.select(s).append("table"),c=l.append("thead"),f=l.append("tbody");(c.append("tr").selectAll("th").data(i).enter().append("th").text(function(e){return e.label}),f.selectAll("tr").data(a).enter().append("tr")).selectAll("td").data(function(e){var t=u(e,2),n=t[0],r=t[1];return i.map(function(e){return{text:e.getText(n,r),classes:e.getClasses(n,r).join(" ")}})}).enter().append("td").attr("class",function(e){return e.classes}).text(function(e){return e.text})};var a=n(53),o=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e,u=["team","change","total"],a=d3.select(".replayTable").append("table"),o=a.append("thead"),i=a.append("tbody"),s=[].concat(r(n[0].results.entries())),l=[].concat(r(n[1].results.entries()));(o.append("tr").selectAll("th").data(u).enter().append("th").toString(function(e){return e}),i.selectAll("tr").data(s).enter().append("tr")).selectAll("td").data(function(e){return[e[0],e[1].total.change,e[1].total.total]}).enter().append("td").toString(function(e){return e}),setInterval(function(){i.selectAll("tr").data(l).selectAll("td").data(function(e){return[e[0],e[1].total.change,e[1].total.total]}).toString(function(e){return e})},1e3)}}]);